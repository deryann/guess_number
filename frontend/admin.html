<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†å“¡å¾Œå° - çŒœæ•¸å­—éŠæˆ²</title>
    <link rel="stylesheet" href="/static/admin.css">
    <script>
        // Load theme from localStorage before page renders
        (function() {
            const savedTheme = localStorage.getItem('guessNumberTheme') || 'original';
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark-theme');
            } else if (savedTheme === 'special') {
                document.documentElement.classList.add('special-theme');
            }
        })();
    </script>
</head>
<body>
    <!-- ç™»å…¥é é¢ -->
    <div id="login-container">
        <div class="login-card">
            <h1>ğŸ” ç®¡ç†å“¡ç™»å…¥</h1>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">å¸³è™Ÿ:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">å¯†ç¢¼:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit">ç™»å…¥</button>
            </form>
            <div id="loginMessage"></div>
            <div class="back-link">
                <a href="/">â† å›åˆ°ä¸»é é¢</a>
            </div>
        </div>
    </div>

    <!-- ç®¡ç†å“¡å¾Œå° -->
    <div id="admin-container" style="display: none;">
        <div class="admin-header">
            <h1>ğŸ¯ æ’åæ¦œç®¡ç†</h1>
            <div class="admin-controls">
                <button id="refreshBtn" onclick="loadRankings()">ğŸ”„ é‡æ–°æ•´ç†</button>
                <button id="logoutBtn" onclick="logout()">ğŸšª ç™»å‡º</button>
            </div>
        </div>

        <div class="admin-content">
            <div class="rankings-section">
                <h2>æ’åè¨˜éŒ„</h2>
                <div id="rankingsContainer">
                    <table id="rankingsTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>ç©å®¶å§“å</th>
                                <th>é–‹å§‹æ™‚é–“</th>
                                <th>çµæŸæ™‚é–“</th>
                                <th>éŠæˆ²æ™‚é•·(ç§’)</th>
                                <th>çŒœæ¸¬æ¬¡æ•¸</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody id="rankingsTableBody">
                            <!-- æ’åè³‡æ–™å°‡å‹•æ…‹è¼‰å…¥ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- ç·¨è¼¯å°è©±æ¡† -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <h3>ç·¨è¼¯æ’åè¨˜éŒ„</h3>
            <form id="editForm">
                <input type="hidden" id="editId">
                <div class="form-group">
                    <label for="editName">ç©å®¶å§“å:</label>
                    <input type="text" id="editName" required>
                </div>
                <div class="form-group">
                    <label for="editStartTime">é–‹å§‹æ™‚é–“:</label>
                    <input type="datetime-local" id="editStartTime" required>
                </div>
                <div class="form-group">
                    <label for="editEndTime">çµæŸæ™‚é–“:</label>
                    <input type="datetime-local" id="editEndTime" required>
                </div>
                <div class="form-group">
                    <label for="editDuration">éŠæˆ²æ™‚é•·(ç§’):</label>
                    <input type="number" id="editDuration" step="0.1" min="0" required>
                </div>
                <div class="form-group">
                    <label for="editGuessCount">çŒœæ¸¬æ¬¡æ•¸:</label>
                    <input type="number" id="editGuessCount" min="1" required>
                </div>
                <div class="modal-buttons">
                    <button type="submit">ç¢ºèªæ›´æ–°</button>
                    <button type="button" onclick="closeEditModal()">å–æ¶ˆ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- ç¢ºèªåˆªé™¤å°è©±æ¡† -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>ç¢ºèªåˆªé™¤</h3>
            <p>ç¢ºå®šè¦åˆªé™¤é€™ç­†æ’åè¨˜éŒ„å—ï¼Ÿ</p>
            <div class="modal-buttons">
                <button id="confirmDeleteBtn" onclick="confirmDelete()">ç¢ºèªåˆªé™¤</button>
                <button onclick="closeDeleteModal()">å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script src="/static/admin.js"></script>
</body>
</html>