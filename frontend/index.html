
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>猜數字遊戲</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="start-screen">
        <h1>🎯 猜數字遊戲</h1>
        <p class="subtitle">經典的邏輯推理遊戲</p>
        <div class="rules">
            <h3>🎮 遊戲規則：</h3>
            <ul>
                <li>系統會隨機產生一個4位數字（0-9，不重複）</li>
                <li>你需要猜出這個數字的正確順序</li>
                <li><strong>A</strong>：數字和位置都正確的個數</li>
                <li><strong>B</strong>：數字正確但位置錯誤的個數</li>
                <li>當你得到 <strong>4A0B</strong> 時就獲勝了！</li>
            </ul>
        </div>
        <input type="text" id="playerName" placeholder="請輸入您的姓名">
        <button onclick="startGame()">開始遊戲</button>
        
        <!-- Ranking Section on Homepage -->
        <div class="homepage-ranking">
            <h3>🏆 排行榜 TOP 10</h3>
            <div id="homepage-ranking-list">
                <div class="ranking-loading">載入中...</div>
            </div>
        </div>
        
        <!-- Theme Switcher -->
        <div class="theme-switcher">
            <h4>🎨 主題切換</h4>
            <div class="theme-buttons">
                <button class="theme-btn active" data-theme="original">原版模式</button>
                <button class="theme-btn" data-theme="dark">暗黑模式</button>
                <button class="theme-btn" data-theme="special">特殊配色</button>
            </div>
        </div>
        
        <div class="admin-link">
            <a href="/admin">🔐 管理員入口</a>
        </div>
    </div>

    <div class="game-container" style="display: none;">
        <div class="game-header">
            <h1>猜數字</h1>
            <button id="settings-button" onclick="toggleSettingsModal(true)" title="符號設定">⚙️</button>
            <button id="ranking-button" onclick="showRanking()">🏆</button>
            <button id="help-button" onclick="toggleRulesModal(true)">?</button>
        </div>
        <div class="game-stats">
            <span><strong>玩家：</strong><span id="playerNameDisplay"></span></span>
            <span><strong>目前猜測次數：</strong> <span id="guessCount">0</span></span>
            <span><strong>經過時間：</strong> <span id="timer">0</span></span>
            <button id="pauseButton" onclick="togglePause()" disabled>⏸️ 暫停</button>
        </div>
        <div class="history" id="historyContainer">
            <!-- 多個表格將動態產生在這裡 -->
        </div>
        <div class="input-section">
            <input type="text" id="guessInput" placeholder="輸入4位數字 (支援全形/半形)" maxlength="4">
            <br>
            <button onclick="makeGuess()">猜測</button>
            <button id="surrenderButton" onclick="surrenderGame()" style="display: none;">投降</button>
            <button onclick="newGame()">新遊戲</button>
        </div>
        <div id="message"></div>
    </div>

    <div id="rules-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button" onclick="toggleRulesModal(false)">&times;</span>
            <h3>🎮 遊戲規則：</h3>
            <ul>
                <li>系統會隨機產生一個4位數字（0-9，不重複）</li>
                <li>你需要猜出這個數字的正確順序</li>
                <li><strong>A</strong>：數字和位置都正確的個數</li>
                <li><strong>B</strong>：數字正確但位置錯誤的個數</li>
                <li>當你得到 <strong>4A0B</strong> 時就獲勝了！</li>
            </ul>
        </div>
    </div>

    <!-- Ranking Modal -->
    <div id="ranking-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button" onclick="toggleRankingModal(false)">&times;</span>
            <h2>🏆 排行榜 (TOP 10)</h2>
            <div id="ranking-list">
                <!-- Ranking content will be injected here -->
            </div>
        </div>
    </div>

    <!-- Hint Modal -->
    <div id="hint-modal" class="hint-modal" style="display: none;">
        <div class="hint-modal-content">
            <span class="hint-close-button" onclick="closeHintModal()">&times;</span>
            <h3>💡 提示</h3>
            <div id="hint-display">
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal" style="display: none;">
        <div class="modal-content settings-modal-content">
            <span class="close-button" onclick="toggleSettingsModal(false)">&times;</span>
            <h2>⚙️ 符號設定</h2>
            <p class="settings-description">自訂遊戲結果顯示的符號，讓遊戲更有個人風格！</p>
            <div class="symbol-settings">
                <div class="symbol-input-group">
                    <div class="symbol-input">
                        <label for="symbolA">正確位置符號：</label>
                        <input type="text" id="symbolA" maxlength="2" value="A" placeholder="A">
                    </div>
                    <div class="symbol-input">
                        <label for="symbolB">錯誤位置符號：</label>
                        <input type="text" id="symbolB" maxlength="2" value="B" placeholder="B">
                    </div>
                </div>
                <div class="preset-section">
                    <h4>快速選擇：</h4>
                    <div class="preset-buttons">
                        <button class="preset-btn" onclick="applyPreset(0)">A/B 經典</button>
                        <button class="preset-btn" onclick="applyPreset(1)">🎯/🔄 目標</button>
                        <button class="preset-btn" onclick="applyPreset(2)">✅/🔶 勾選</button>
                        <button class="preset-btn" onclick="applyPreset(3)">🟢/🟡 圓點</button>
                        <button class="preset-btn" onclick="applyPreset(4)">⭐/💫 星星</button>
                        <button class="preset-btn" onclick="applyPreset(5)">🔥/💨 火焰</button>
                    </div>
                </div>
                <div class="settings-actions">
                    <button class="save-btn" onclick="saveSettings()">💾 儲存設定</button>
                    <button class="reset-btn" onclick="resetSettings()">↩️ 恢復預設</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer with version information -->
    <footer id="version-footer">
        <div class="version-info">
            版本: <span id="version-display">載入中...</span>
        </div>
    </footer>

    <script src="/static/script.js"></script>
</body>
</html>
